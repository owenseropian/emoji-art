<link rel="stylesheet" href="https://generativeart.online/css/drawing-app.css">
<head>
  <title>emojis</title>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Noto+Serif+SC&display=swap");
    body {
      background-color: #FFFFFF;
      color: #000000;
      word-wrap: anywhere;
      font-family: "Noto Serif SC";
    }
  </style>
</head>

<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
<script>
/* global nn */  

let remove = true
let delay = 1000 * 2

const red = ['ğŸŸ¥', 'ğŸ”´', 'â¤ï¸', 'ğŸ…¾ï¸', 'ğŸ‡­ğŸ‡°', 'ğŸ™']
const orange = ['ğŸŸ§', 'ğŸŸ ', 'ğŸ§¡', 'â˜¢ï¸', 'ğŸ¦€']
const yellow = ['ğŸŸ¨', 'ğŸŸ¡', 'ğŸ’›', 'âš ï¸', 'â­', 'ğŸŒ•']
const green = ['ğŸŸ©', 'ğŸŸ¢', 'ğŸ’š', 'ğŸ‡¸ğŸ‡¦', 'ğŸ€', 'ğŸ¢']
const blue = ['ğŸŸ¦', 'ğŸ”µ', 'ğŸ’™', 'ğŸˆ‚ï¸', 'ğŸ‡ªğŸ‡º', 'ğŸª¼', 'ğŸŒ€']
const purple = ['ğŸŸª', 'ğŸŸ£', 'ğŸ’œ', 'ğŸ›', 'â˜‚ï¸']
const white = ['â¬œ', 'âšª', 'ğŸ¤', 'ğŸ‡¨ğŸ‡¾', 'â˜ï¸']
const black = ['â¬›', 'âš«', 'ğŸ–¤', 'ğŸ±', 'ğŸ¾']

const colors = [red, orange, yellow, green, blue, purple, white, black]

let color_index = Math.floor(nn.random(colors.length))
let color = colors[color_index]

const removeEmoji = function(e){
  if (remove){
    setTimeout(() => {e.remove()}, delay)
  }
}

const makeEmoji = function(fontSize, x, y){
  const e = nn.create('span')
    .content(nn.random(color))
    .css({
    fontSize: fontSize,
    position: "absolute",
    left: x,
    top: y
  })
    .addTo('body')
    .on("mousemove", () => console.log(this.fontSize))
  return e
}

const createFlag = function(color, x = nn.random(nn.width), y = nn.random(nn.height)) {
  const flags = ['ğŸ‡¦ğŸ‡´','ğŸ‡§ğŸ‡«','ğŸ‡§ğŸ‡®','ğŸ‡§ğŸ‡¯','ğŸ‡§ğŸ‡¼','ğŸ‡¨ğŸ‡©','ğŸ‡¨ğŸ‡«','ğŸ‡¨ğŸ‡¬','ğŸ‡¨ğŸ‡®','ğŸ‡¨ğŸ‡²','ğŸ‡¨ğŸ‡»','ğŸ‡©ğŸ‡¯','ğŸ‡©ğŸ‡¿','ğŸ‡ªğŸ‡¬','ğŸ‡ªğŸ‡­','ğŸ‡ªğŸ‡·','ğŸ‡ªğŸ‡¹','ğŸ‡¬ğŸ‡¦','ğŸ‡¬ğŸ‡­','ğŸ‡¬ğŸ‡²','ğŸ‡¬ğŸ‡³','ğŸ‡¬ğŸ‡¶','ğŸ‡¬ğŸ‡¼','ğŸ‡°ğŸ‡ª','ğŸ‡°ğŸ‡²','ğŸ‡±ğŸ‡·','ğŸ‡±ğŸ‡¸','ğŸ‡±ğŸ‡¾','ğŸ‡²ğŸ‡¦','ğŸ‡²ğŸ‡¬','ğŸ‡²ğŸ‡±','ğŸ‡²ğŸ‡·','ğŸ‡²ğŸ‡º','ğŸ‡²ğŸ‡¼','ğŸ‡²ğŸ‡¿','ğŸ‡³ğŸ‡¦','ğŸ‡³ğŸ‡ª','ğŸ‡³ğŸ‡¬','ğŸ‡·ğŸ‡¼','ğŸ‡¸ğŸ‡¨','ğŸ‡¸ğŸ‡©','ğŸ‡¸ğŸ‡±','ğŸ‡¸ğŸ‡³','ğŸ‡¸ğŸ‡´','ğŸ‡¸ğŸ‡¸','ğŸ‡¸ğŸ‡¿','ğŸ‡¹ğŸ‡©','ğŸ‡¹ğŸ‡¬','ğŸ‡¹ğŸ‡³','ğŸ‡¹ğŸ‡¿','ğŸ‡ºğŸ‡¬','ğŸ‡¿ğŸ‡¦','ğŸ‡¿ğŸ‡²','ğŸ‡¿ğŸ‡¼']
  
  let fontSize = Math.random() * 20 + 80
  
  const e = makeEmoji(fontSize, x - fontSize / 2, y - fontSize * 2/3)
  
  removeEmoji(e)
}

const createCircle = function(color, x = nn.random(nn.width), y = nn.random(nn.height)){
  
  let fontSize = Math.random() * 20 + 10
  
  for (let i = 0; i < 4; i++){
    for (let j = 0; j < i*5; j++){
      let radius = i*20
      let angle = (2*Math.PI)/(i*5)*j
      const e = makeEmoji(fontSize, x - fontSize / 2 + Math.cos(angle) * radius, y - fontSize * 2/3 + Math.sin(angle) * radius)
      removeEmoji(e)
    }
  }
}

const changeColor = function(){
  let rand = Math.floor(Math.random() * 100)
  if (rand < 5){color_index++}
  else if (rand > 95){color_index--}
  console.log(color_index)
  color_index %= colors.length
  if (color_index < 0){color_index = colors.length - 1}
  color = colors[color_index]
}

const draw = function(){  
  if (nn.mouseDown){
    changeColor()
    createFlag(color, nn.mouseX, nn.mouseY)
  }
}

nn.on("mousemove", () => draw()) 
nn.on("keypress", () => createCircle(color, nn.mouseX, nn.mouseY))
// nn.on("click", del)
  
</script>